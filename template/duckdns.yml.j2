services:
  duckdns:
    container_name: duckdns
    image: lscr.io/linuxserver/duckdns:latest
    restart: unless-stopped
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Etc/UTC
      - SUBDOMAINS={{ domain }}
      - TOKEN=your-duckdns-token-change-me
      - LOG_FILE=true
    volumes:
      - ./duckdns:/config
    networks:
      - traefik_reverse_proxy
    healthcheck:
      test: ["CMD", "curl", "-f", "https://www.duckdns.org/update?domains={{ domain }}&token=your-duckdns-token-change-me&ip="]
      interval: 5m
      timeout: 10s
      retries: 3
      start_period: 30s

networks:
  traefik_reverse_proxy:
    external: true
